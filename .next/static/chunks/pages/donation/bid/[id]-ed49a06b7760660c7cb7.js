(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[545],{859:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(809),s=n.n(r),i=n(5893),a=n(5311),o=n(9227),c=(n(7294),n(1881)),l=n(7833),d=n(5005),u=n(2358);function p(e){var t=e.show,n=e.onHide,r=e.contract,p=e.senderAddress,m=e.tokenId,h=e.eventId,x=e.type,f=(0,u.Z)({type:"text",placeholder:"Amount"}),g=(0,o.Z)(f,2),b=g[0],N=g[1];function v(){return y.apply(this,arguments)}function y(){return(y=(0,a.Z)(s().mark((function e(){var t,n,i,a,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.tokenURI(m);case 2:return t=e.sent,e.next=5,JSON.parse(t);case 5:return n=e.sent,Number(n.properties.price.description)<Number(b)&&(n.properties.price.description=b,n.properties.higherbidadd.description=p),i=new Date,a={title:"Asset Metadata Bids",type:"object",properties:{username:{type:"string",description:p},bid:{type:"string",description:b},time:{type:"string",description:i}}},e.next=11,r.createBid(m,JSON.stringify(a),JSON.stringify(n),h);case 11:o=e.sent,console.log(o),window.document.getElementsByClassName("btn-close")[0].click();case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,i.jsxs)(c.Z,{show:t,onHide:n,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,i.jsx)(c.Z.Header,{closeButton:!0,children:"Cryptopunk"==x?(0,i.jsx)(c.Z.Title,{id:"contained-modal-title-vcenter",children:"Bid Cryptopunk"}):(0,i.jsx)(c.Z.Title,{id:"contained-modal-title-vcenter",children:"Bid NFT"})}),(0,i.jsx)(c.Z.Body,{className:"show-grid",children:(0,i.jsxs)(l.Z,{children:[(0,i.jsxs)(l.Z.Group,{className:"mb-3",controlId:"formGroupName",children:[(0,i.jsx)(l.Z.Label,{children:"Bid Amount in ETH"}),N]}),(0,i.jsx)("div",{className:"d-grid",children:"Cryptopunk"==x?(0,i.jsx)(d.Z,{variant:"primary",onClick:v,children:"Bid Cryptopunk"}):(0,i.jsx)(d.Z,{variant:"primary",onClick:v,children:"Bid NFT"})})]})})]})}},8396:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var r=n(809),s=n.n(r),i=n(5893),a=n(5311),o=n(7294),c=n(1163),l=n(9008),d=(n(1664),n(859),n(1926));function u(e){var t=(0,d.Z)("ERC721"),n=t.contract,r=(t.signerAddress,(0,c.useRouter)()),u=(0,o.useState)(-1),p=(u[0],u[1]),m=(0,o.useState)([]),h=m[0],x=m[1],f=(0,o.useState)(""),g=f[0],b=f[1],N=(0,o.useState)(""),v=N[0],y=N[1],j=(0,o.useState)(""),w=j[0],C=j[1],k=(0,o.useState)(""),Z=k[0],E=k[1],S=(0,o.useState)(""),T=S[0],B=S[1],D=(0,o.useState)(""),R=D[0],I=D[1],F=(0,o.useState)(""),H=F[0],A=F[1],M=(0,o.useState)(""),O=(M[0],M[1],(0,o.useState)("")),_=(O[0],O[1],(0,o.useState)("")),L=(_[0],_[1]),$=(0,o.useState)(!1);$[0],$[1];function P(e){return e<10?"0".concat(e):e}function U(e){return e<12?"AM":"PM"}function J(e){var t=new Date(e).getTime()-(new Date).getTime(),n=Math.floor(t/864e5),r=Math.floor(t%864e5/36e5),s=Math.floor(t%36e5/6e4),i=Math.floor(t%6e4/1e3);return n.toString()+" Days "+r.toString()+" hours "+s.toString()+" minutes "+i.toString()+" seconds"}var z=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});function K(){return(K=(0,a.Z)(s().mark((function e(){var t,i,a,o,c,l,d,u,m,h,f,g,N;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=r.query.id,!n||!t){e.next=54;break}return p(t),e.next=6,n.tokenURI(t);case 6:return i=e.sent,console.log(i),a=[],e.next=11,n.getBidsSearchToken(t);case 11:o=e.sent,console.log(o),c=0;case 14:if(!(c<Number(10))){e.next=41;break}return e.next=17,o[c];case 17:return l=e.sent,d={},e.prev=19,e.next=22,JSON.parse(l);case 22:d=e.sent,e.next=27;break;case 25:e.prev=25,e.t0=e.catch(19);case 27:if(!d.title){e.next=38;break}u=0;try{u=z.format(Number(3817.09*d.properties.bid.description))}catch(s){}return e.t1=Number,e.next=33,n.getBidIdByUri(l);case 33:e.t2=e.sent,m=(0,e.t1)(e.t2),h=new Date(d.properties.time.description),f="".concat(P(h.getDate()),"/").concat(P(h.getMonth()+1),"/").concat(P(h.getFullYear())," ").concat(P(h.getHours()),":").concat(P(h.getMinutes()),":").concat(P(h.getSeconds())," ").concat(U(h.getHours())),a.push({Id:m,name:d.properties.username.description,time:f,bidprice:d.properties.bid.description,bidpriceusd:u});case 38:c++,e.next=14;break;case 41:console.log(a),x(a),document.getElementById("Loading")&&(document.getElementById("Loading").style="display:none"),document.getElementById("Loadingtable")&&((g=document.getElementById("Loadingtable")).style="display:block",g.setAttribute("id","")),L(i),N=JSON.parse(i),b(N.properties.name.description),y(N.properties.description.description),B(z.format(Number(3817.09*N.properties.price.description))),E(Number(N.properties.price.description)),I(N.properties.date.description),C(N.properties.typeimg.description),A(N.properties.logo.description);case 54:e.next=59;break;case 56:e.prev=56,e.t3=e.catch(0),console.error(e.t3);case 59:case"end":return e.stop()}}),e,null,[[0,56],[19,25]])})))).apply(this,arguments)}return(0,o.useEffect)((function(){!function(){K.apply(this,arguments)}()}),[r.query,n]),setInterval((function(){!function(){try{for(var e=document.getElementsByName("dateleft"),t=0;t<e.length;t++){var n=e[t].getAttribute("date");e[t].innerHTML=J(n)}}catch(r){}}()}),1e3),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(l.default,{children:[(0,i.jsx)("title",{children:g}),(0,i.jsx)("meta",{name:"description",content:g}),(0,i.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,i.jsx)("div",{className:"row EventContainer",children:(0,i.jsxs)("div",{style:{display:"flex"},children:[(0,i.jsx)("img",{src:H,className:"AuctionImage"}),(0,i.jsxs)("div",{className:"TokenDetialsContainer",children:[(0,i.jsx)("h4",{children:g}),(0,i.jsxs)("div",{className:"TextContainer",children:[(0,i.jsx)("h4",{children:"Description: "}),(0,i.jsx)("h4",{children:v})]}),(0,i.jsxs)("div",{className:"TextContainer",children:[(0,i.jsx)("h6",{children:"Type: "}),(0,i.jsx)("h6",{children:w})]}),(0,i.jsxs)("div",{className:"TextContainer",children:[(0,i.jsx)("h6",{children:"Higher Bid: "}),(0,i.jsxs)("h6",{children:["$ ",T," (",Z," ETH)"]})]}),(0,i.jsx)("div",{className:"TextContainer",children:(0,i.jsx)("h6",{name:"dateleft",date:R,children:R})})]})]})}),(0,i.jsx)("div",{id:"Loading",className:"LoadingArea",children:(0,i.jsx)("h1",{children:"Loading..."})}),(0,i.jsxs)("div",{id:"Loadingtable",style:{display:"none"},className:"ElementsContainer",children:[(0,i.jsx)("div",{className:"tableHeader",children:(0,i.jsxs)("div",{className:"tableHeaderContainer",children:[(0,i.jsx)("div",{className:"tableheaderDateContainer",children:(0,i.jsx)("h4",{className:"header",children:"Date"})}),(0,i.jsx)("div",{className:"tableheaderUserContainer",children:(0,i.jsx)("h4",{className:"header",children:"User Name"})}),(0,i.jsx)("div",{className:"tableheaderBidContainer",children:(0,i.jsx)("h4",{className:"header",children:"Bid"})})]})})," ",h.map((function(e){return(0,i.jsx)("div",{className:"tableFullRowContainer",children:(0,i.jsx)("div",{className:"tableRowContainer",children:(0,i.jsxs)("div",{className:"tableRowCellContainer",children:[(0,i.jsx)("div",{className:"tableRowCellDateContainer",children:(0,i.jsx)("h5",{className:"cell",children:e.time})}),(0,i.jsx)("div",{className:"tableRowCellUserContainer",children:(0,i.jsx)("h5",{className:"cell",children:e.name})}),(0,i.jsx)("div",{className:"tableRowCellBidContainer",children:(0,i.jsxs)("h5",{className:"cell",children:["$",e.bidpriceusd," (",e.bidprice," ETH)"]})})]})})},e.Id)}))]})]})}},4087:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/donation/bid/[id]",function(){return n(8396)}])},1881:function(e,t,n){"use strict";n.d(t,{Z:function(){return M}});var r,s=n(4036),i=n.n(s),a=n(9351),o=n(3004),c=n(7216),l=n(99);function d(e){if((!r&&0!==r||e)&&o.Z){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),r=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return r}var u=n(2092),p=n(8146),m=n(5654),h=n(5088),x=n(6914),f=n(7294),g=n(8380),b=n(1645),N=n(1068),v=n(4680),y=(0,v.Z)("modal-body"),j=n(6467),w=n(600),C=n(5893);const k=f.forwardRef((({bsPrefix:e,className:t,contentClassName:n,centered:r,size:s,fullscreen:a,children:o,scrollable:c,...l},d)=>{const u=`${e=(0,w.vE)(e,"modal")}-dialog`,p="string"===typeof a?`${e}-fullscreen-${a}`:`${e}-fullscreen`;return(0,C.jsx)("div",{...l,ref:d,className:i()(u,t,s&&`${e}-${s}`,r&&`${u}-centered`,c&&`${u}-scrollable`,a&&p),children:(0,C.jsx)("div",{className:i()(`${e}-content`,n),children:o})})}));k.displayName="ModalDialog";var Z=k,E=(0,v.Z)("modal-footer"),S=n(2655);const T=f.forwardRef((({bsPrefix:e,className:t,...n},r)=>(e=(0,w.vE)(e,"modal-header"),(0,C.jsx)(S.Z,{ref:r,...n,className:i()(t,e)}))));T.displayName="ModalHeader",T.defaultProps={closeLabel:"Close",closeButton:!1};var B=T;const D=(0,n(9602).Z)("h4");var R=(0,v.Z)("modal-title",{Component:D});const I={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:Z};function F(e){return(0,C.jsx)(N.Z,{...e,timeout:null})}function H(e){return(0,C.jsx)(N.Z,{...e,timeout:null})}const A=f.forwardRef((({bsPrefix:e,className:t,style:n,dialogClassName:r,contentClassName:s,children:N,dialogAs:v,"aria-labelledby":y,show:k,animation:Z,backdrop:E,keyboard:S,onEscapeKeyDown:T,onShow:B,onHide:D,container:R,autoFocus:I,enforceFocus:A,restoreFocus:M,restoreFocusOptions:O,onEntered:_,onExit:L,onExiting:$,onEnter:P,onEntering:U,onExited:J,backdropClassName:z,manager:K,...W},q)=>{const[G,X]=(0,f.useState)({}),[Y,Q]=(0,f.useState)(!1),V=(0,f.useRef)(!1),ee=(0,f.useRef)(!1),te=(0,f.useRef)(null),[ne,re]=(0,u.Z)(),se=(0,m.Z)(q,re),ie=(0,p.Z)(D),ae=(0,w.SC)();e=(0,w.vE)(e,"modal");const oe=(0,f.useMemo)((()=>({onHide:ie})),[ie]);function ce(){return K||(0,b.t)({isRTL:ae})}function le(e){if(!o.Z)return;const t=ce().getScrollbarWidth()>0,n=e.scrollHeight>(0,c.Z)(e).documentElement.clientHeight;X({paddingRight:t&&!n?d():void 0,paddingLeft:!t&&n?d():void 0})}const de=(0,p.Z)((()=>{ne&&le(ne.dialog)}));(0,h.Z)((()=>{(0,l.Z)(window,"resize",de),null==te.current||te.current()}));const ue=()=>{V.current=!0},pe=e=>{V.current&&ne&&e.target===ne.dialog&&(ee.current=!0),V.current=!1},me=()=>{Q(!0),te.current=(0,x.Z)(ne.dialog,(()=>{Q(!1)}))},he=e=>{"static"!==E?ee.current||e.target!==e.currentTarget?ee.current=!1:null==D||D():(e=>{e.target===e.currentTarget&&me()})(e)},xe=(0,f.useCallback)((t=>(0,C.jsx)("div",{...t,className:i()(`${e}-backdrop`,z,!Z&&"show")})),[Z,z,e]),fe={...n,...G};Z||(fe.display="block");return(0,C.jsx)(j.Z.Provider,{value:oe,children:(0,C.jsx)(g.Z,{show:k,ref:se,backdrop:E,container:R,keyboard:!0,autoFocus:I,enforceFocus:A,restoreFocus:M,restoreFocusOptions:O,onEscapeKeyDown:e=>{S||"static"!==E?S&&T&&T(e):(e.preventDefault(),me())},onShow:B,onHide:D,onEnter:(e,t)=>{e&&(e.style.display="block",le(e)),null==P||P(e,t)},onEntering:(e,t)=>{null==U||U(e,t),(0,a.ZP)(window,"resize",de)},onEntered:_,onExit:e=>{null==te.current||te.current(),null==L||L(e)},onExiting:$,onExited:e=>{e&&(e.style.display=""),null==J||J(e),(0,l.Z)(window,"resize",de)},manager:ce(),transition:Z?F:void 0,backdropTransition:Z?H:void 0,renderBackdrop:xe,renderDialog:n=>(0,C.jsx)("div",{role:"dialog",...n,style:fe,className:i()(t,e,Y&&`${e}-static`),onClick:E?he:void 0,onMouseUp:pe,"aria-labelledby":y,children:(0,C.jsx)(v,{...W,onMouseDown:ue,className:r,contentClassName:s,children:N})})})})}));A.displayName="Modal",A.defaultProps=I;var M=Object.assign(A,{Body:y,Header:B,Title:R,Footer:E,Dialog:Z,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150})}},function(e){e.O(0,[699,972,774,888,179],(function(){return t=4087,e(e.s=t);var t}));var t=e.O();_N_E=t}]);