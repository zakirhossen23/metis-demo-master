(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[39],{7645:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(809),o=n.n(r),i=n(5893),s=n(5311),a=n(9227),l=(n(7294),n(1881)),c=n(7833),d=n(5005),u=n(2358),p=n(1163);function h(e){var t=e.show,n=e.onHide,r=e.contract,h=e.senderAddress,g=e.type,m=e.EventID,x=e.SelectedTitle,f=e.enddate,y=(0,p.useRouter)();console.log(r);var v=(0,u.Z)({type:"text",placeholder:"Enter name"}),b=(0,a.Z)(v,2),j=b[0],N=b[1],w=(0,u.Z)({as:"textarea",placeholder:"Enter description"}),Z=(0,a.Z)(w,2),k=Z[0],E=Z[1],T=(0,u.Z)({type:"text",placeholder:"Enter image url"}),D=(0,a.Z)(T,2),C=D[0],I=D[1],S=(0,u.Z)({defaultValue:"",type:"file",placeholder:"NFT Logo",id:"logo"}),A=(0,a.Z)(S,2),L=(A[0],A[1],(0,u.Z)({type:"text",placeholder:"Enter Price"})),G=(0,a.Z)(L,2),R=G[0],F=G[1],$=(0,u.Z)({type:"text",placeholder:"Enter NFT address"}),H=(0,a.Z)($,2),_=H[0],M=H[1],B=(0,u.Z)({type:"text",placeholder:"Enter Cryptopunk address"}),O=(0,a.Z)(B,2),P=O[0],U=O[1];function z(){return(z=(0,s.Z)(o().mark((function e(){var t,n,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=_,"Cryptopunk"==g&&(t=P),n={title:"Asset Metadata",type:"object",properties:{name:{type:"string",description:j},description:{type:"string",description:k},image:{type:"string",description:C},price:{type:"string",description:R},typeimg:{type:"string",description:g},nftaddress:{type:"string",description:t},higherbidadd:{type:"string",description:""},date:{type:"string",description:f}},bids:[]},console.log(n),e.next=7,r.claimToken(h,JSON.stringify(n),m);case 7:i=e.sent,y.push("/donation/auction/".concat(m)),console.log(i),window.document.getElementsByClassName("btn-close")[0].click();case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,i.jsxs)(l.Z,{show:t,onHide:n,"aria-labelledby":"contained-modal-title-vcenter",size:"lg",centered:!0,children:[(0,i.jsx)(l.Z.Header,{closeButton:!0,children:(0,i.jsxs)(l.Z.Title,{id:"contained-modal-title-vcenter",children:["Donate ",g," - ",x]})}),(0,i.jsx)(l.Z.Body,{className:"show-grid",children:(0,i.jsxs)(c.Z,{children:[(0,i.jsxs)(c.Z.Group,{className:"mb-3",controlId:"formGroupName",children:[(0,i.jsx)(c.Z.Label,{children:"Name"}),N]}),(0,i.jsxs)(c.Z.Group,{className:"mb-3",controlId:"formGroupDescription",children:[(0,i.jsx)(c.Z.Label,{children:"Description"}),E]}),(0,i.jsxs)(c.Z.Group,{className:"mb-3",controlId:"formGroupName",children:[(0,i.jsx)(c.Z.Label,{children:"Opening price in ETH"}),F]}),(0,i.jsxs)(c.Z.Group,{className:"mb-3",controlId:"formGroupImageUrl",children:[(0,i.jsx)(c.Z.Label,{children:"Enter image URL"}),I]}),"Cryptopunk"==g?(0,i.jsxs)(c.Z.Group,{className:"mb-3",controlId:"formGroupImageUrl",children:[(0,i.jsx)(c.Z.Label,{children:"Cryptopunk address"}),U]}):(0,i.jsxs)(c.Z.Group,{className:"mb-3",controlId:"formGroupImageUrl",children:[(0,i.jsx)(c.Z.Label,{children:"NFT address"}),M]}),(0,i.jsx)("div",{className:"d-grid",children:(0,i.jsxs)(d.Z,{variant:"primary",onClick:function(){return z.apply(this,arguments)},children:["Donate ",g]})})]})})]})}},3637:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var r=n(809),o=n.n(r),i=n(5893),s=n(5311),a=n(7294),l=n(9008),c=n(1664),d=n(4051),u=n(1926),p=n(7645);function h(){var e=(0,a.useState)(!1),t=e[0],n=e[1],r=(0,u.Z)("ERC721"),h=r.contract,g=r.signerAddress,m=(0,a.useState)([]),x=m[0],f=m[1],y=(0,a.useState)(""),v=(y[0],y[1]),b=(0,a.useState)(""),j=(b[0],b[1]),N=(0,a.useState)(""),w=N[0],Z=N[1],k=(0,a.useState)(""),E=k[0],T=k[1],D=(0,a.useState)(""),C=D[0],I=D[1],S=(0,a.useState)(""),A=S[0],L=S[1];function G(){return R.apply(this,arguments)}function R(){return(R=(0,s.Z)(o().mark((function e(){var t,n,r,i,s,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!h){e.next=28;break}return e.t0=v,e.next=5,h.name();case 5:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=j,e.next=10,h.symbol();case 10:return e.t3=e.sent,(0,e.t2)(e.t3),e.next=14,h.totalEvent();case 14:t=e.sent,n=[],r=0;case 17:if(!(r<Number(t))){e.next=26;break}return e.next=20,h.eventURI(r);case 20:if(i=e.sent){s=JSON.parse(i),a=0;try{a=Number(3817.09*s.properties.Goal.description)}catch(o){}n.push({eventId:r,Title:s.properties.Title.description,Date:s.properties.Date.description,Goalusd:a,Goal:s.properties.Goal.description,logo:s.properties.logo.description})}console.log(i);case 23:r++,e.next=17;break;case 26:f(n),document.getElementById("Loading").style="display:none";case 28:e.next=33;break;case 30:e.prev=30,e.t4=e.catch(0),console.error(e.t4);case 33:case"end":return e.stop()}}),e,null,[[0,30]])})))).apply(this,arguments)}function F(e){Z(e.target.getAttribute("eventid")),I(e.target.getAttribute("eventtitle")),L(e.target.getAttribute("date")),T("NFT"),n(!0)}function $(e){Z(e.target.getAttribute("eventid")),I(e.target.getAttribute("eventtitle")),L(e.target.getAttribute("date")),T("Cryptopunk"),n(!0)}function H(e){var t=new Date(e).getTime()-(new Date).getTime(),n=Math.floor(t/864e5),r=Math.floor(t%864e5/36e5),o=Math.floor(t%36e5/6e4),i=Math.floor(t%6e4/1e3);return n.toString()+" Days "+r.toString()+" hours "+o.toString()+" minutes "+i.toString()+" seconds"}return(0,a.useEffect)((function(){return G(),window.ethereum.on("accountsChanged",G),window.ethereum.on("chainChanged",G),function(){window.ethereum.removeListener("accountsChanged",G),window.ethereum.removeListener("chainChanged",G)}}),[h]),setInterval((function(){!function(){try{for(var e=document.getElementsByName("DateCount"),t=0;t<e.length;t++){var n=e[t].getAttribute("date");e[t].innerHTML=H(n)}}catch(r){}}()}),1e3),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(l.default,{children:[(0,i.jsx)("title",{children:"Donation"}),(0,i.jsx)("meta",{name:"description",content:"Donation"}),(0,i.jsx)("link",{rel:"icon",href:"/Logo.svg"})]}),(0,i.jsxs)(d.Z,{className:"DonationBar",children:[(0,i.jsx)(c.default,{href:"?q=All",children:(0,i.jsx)("a",{className:"DonationBarLink active",children:"All"})}),(0,i.jsx)(c.default,{href:"?q=Today",children:(0,i.jsx)("a",{className:"DonationBarLink",children:"Today"})}),(0,i.jsx)(c.default,{href:"?q=This Month",children:(0,i.jsx)("a",{className:"DonationBarLink",children:"This Month"})})]}),(0,i.jsx)("div",{id:"Loading",className:"LoadingArea",children:(0,i.jsx)("h1",{children:"Loading..."})}),x.map((function(e){return(0,i.jsxs)("div",{className:"row",style:{height:"397px",margin:"28px",background:"white",color:"black",overflow:"hidden",padding:0},children:[(0,i.jsx)("div",{children:(0,i.jsx)("h4",{name:"DateCount",date:e.Date,children:H(e.Date)})}),(0,i.jsxs)("div",{style:{display:"flex"},children:[(0,i.jsx)("img",{src:e.logo,style:{maxHeight:"270px",minWidth:"284px"}}),(0,i.jsxs)("div",{style:{paddingTop:"33px",marginLeft:"82px",display:"flex",flexDirection:"column",width:"100%",rowGap:"10px"},children:[(0,i.jsx)("h4",{children:e.Title}),(0,i.jsxs)("div",{style:{display:"flex",whiteSpace:"pre-wrap"},children:[(0,i.jsx)("h4",{children:"Goal:  "}),(0,i.jsxs)("h4",{children:["$",e.Goalusd," (",e.Goal," ETH)"]})]}),(0,i.jsxs)("div",{style:{display:"flex",height:"61px",float:"right",gap:"26px",right:0,width:"100%",marginTop:"50px",marginLeft:0,flexDirection:"column"},children:[(0,i.jsx)("div",{className:"card",style:{height:"100%",border:"0px"}}),(0,i.jsxs)("div",{style:{display:"flex",gap:"14px"},children:[(0,i.jsx)("div",{eventid:e.eventId,date:e.Date,eventtitle:e.Title,onClick:F,className:"card",style:{color:"white",background:"rgb(0, 222, 205)",textAlign:"center",cursor:"pointer",height:"100%",float:"right",width:"290px"},children:(0,i.jsx)("div",{eventid:e.eventId,date:e.Date,eventtitle:e.Title,className:"card-body",style:{height:"100%",paddingTop:"6px"},children:"Donate NFT"})}),(0,i.jsx)("div",{eventid:e.eventId,date:e.Date,eventtitle:e.Title,onClick:$,className:"card",style:{color:"white",background:"rgb(0, 222, 205)",textAlign:"center",cursor:"pointer",height:"100%",float:"right",width:"290px"},children:(0,i.jsx)("div",{eventid:e.eventId,date:e.Date,eventtitle:e.Title,className:"card-body",style:{height:"100%",paddingTop:"6px"},children:"Donate Cryptopunk"})}),(0,i.jsx)(c.default,{href:"/donation/auction/".concat(e.eventId),children:(0,i.jsx)("div",{className:"card",style:{color:"white",background:"rgb(0, 222, 205)",textAlign:"center",cursor:"pointer",height:"100%",float:"right",width:"220px"},children:(0,i.jsx)("div",{className:"card-body",style:{height:"100%",paddingTop:"6px"},children:"Go to auction"})})})]})]})]})]})]},e.eventId)})),(0,i.jsx)(p.Z,{show:t,onHide:function(){n(!1)},contract:h,senderAddress:g,EventID:w,type:E,SelectedTitle:C,enddate:A})]})}},6334:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/donation",function(){return n(3637)}])},1881:function(e,t,n){"use strict";n.d(t,{Z:function(){return $}});var r,o=n(4036),i=n.n(o),s=n(9351),a=n(3004),l=n(7216),c=n(99);function d(e){if((!r&&0!==r||e)&&a.Z){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),r=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return r}var u=n(2092),p=n(8146),h=n(5654),g=n(5088),m=n(6914),x=n(7294),f=n(8380),y=n(1645),v=n(1068),b=n(4680),j=(0,b.Z)("modal-body"),N=n(6467),w=n(600),Z=n(5893);const k=x.forwardRef((({bsPrefix:e,className:t,contentClassName:n,centered:r,size:o,fullscreen:s,children:a,scrollable:l,...c},d)=>{const u=`${e=(0,w.vE)(e,"modal")}-dialog`,p="string"===typeof s?`${e}-fullscreen-${s}`:`${e}-fullscreen`;return(0,Z.jsx)("div",{...c,ref:d,className:i()(u,t,o&&`${e}-${o}`,r&&`${u}-centered`,l&&`${u}-scrollable`,s&&p),children:(0,Z.jsx)("div",{className:i()(`${e}-content`,n),children:a})})}));k.displayName="ModalDialog";var E=k,T=(0,b.Z)("modal-footer"),D=n(2655);const C=x.forwardRef((({bsPrefix:e,className:t,...n},r)=>(e=(0,w.vE)(e,"modal-header"),(0,Z.jsx)(D.Z,{ref:r,...n,className:i()(t,e)}))));C.displayName="ModalHeader",C.defaultProps={closeLabel:"Close",closeButton:!1};var I=C;const S=(0,n(9602).Z)("h4");var A=(0,b.Z)("modal-title",{Component:S});const L={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:E};function G(e){return(0,Z.jsx)(v.Z,{...e,timeout:null})}function R(e){return(0,Z.jsx)(v.Z,{...e,timeout:null})}const F=x.forwardRef((({bsPrefix:e,className:t,style:n,dialogClassName:r,contentClassName:o,children:v,dialogAs:b,"aria-labelledby":j,show:k,animation:E,backdrop:T,keyboard:D,onEscapeKeyDown:C,onShow:I,onHide:S,container:A,autoFocus:L,enforceFocus:F,restoreFocus:$,restoreFocusOptions:H,onEntered:_,onExit:M,onExiting:B,onEnter:O,onEntering:P,onExited:U,backdropClassName:z,manager:W,...q},K)=>{const[J,X]=(0,x.useState)({}),[V,Q]=(0,x.useState)(!1),Y=(0,x.useRef)(!1),ee=(0,x.useRef)(!1),te=(0,x.useRef)(null),[ne,re]=(0,u.Z)(),oe=(0,h.Z)(K,re),ie=(0,p.Z)(S),se=(0,w.SC)();e=(0,w.vE)(e,"modal");const ae=(0,x.useMemo)((()=>({onHide:ie})),[ie]);function le(){return W||(0,y.t)({isRTL:se})}function ce(e){if(!a.Z)return;const t=le().getScrollbarWidth()>0,n=e.scrollHeight>(0,l.Z)(e).documentElement.clientHeight;X({paddingRight:t&&!n?d():void 0,paddingLeft:!t&&n?d():void 0})}const de=(0,p.Z)((()=>{ne&&ce(ne.dialog)}));(0,g.Z)((()=>{(0,c.Z)(window,"resize",de),null==te.current||te.current()}));const ue=()=>{Y.current=!0},pe=e=>{Y.current&&ne&&e.target===ne.dialog&&(ee.current=!0),Y.current=!1},he=()=>{Q(!0),te.current=(0,m.Z)(ne.dialog,(()=>{Q(!1)}))},ge=e=>{"static"!==T?ee.current||e.target!==e.currentTarget?ee.current=!1:null==S||S():(e=>{e.target===e.currentTarget&&he()})(e)},me=(0,x.useCallback)((t=>(0,Z.jsx)("div",{...t,className:i()(`${e}-backdrop`,z,!E&&"show")})),[E,z,e]),xe={...n,...J};E||(xe.display="block");return(0,Z.jsx)(N.Z.Provider,{value:ae,children:(0,Z.jsx)(f.Z,{show:k,ref:oe,backdrop:T,container:A,keyboard:!0,autoFocus:L,enforceFocus:F,restoreFocus:$,restoreFocusOptions:H,onEscapeKeyDown:e=>{D||"static"!==T?D&&C&&C(e):(e.preventDefault(),he())},onShow:I,onHide:S,onEnter:(e,t)=>{e&&(e.style.display="block",ce(e)),null==O||O(e,t)},onEntering:(e,t)=>{null==P||P(e,t),(0,s.ZP)(window,"resize",de)},onEntered:_,onExit:e=>{null==te.current||te.current(),null==M||M(e)},onExiting:B,onExited:e=>{e&&(e.style.display=""),null==U||U(e),(0,c.Z)(window,"resize",de)},manager:le(),transition:E?G:void 0,backdropTransition:E?R:void 0,renderBackdrop:me,renderDialog:n=>(0,Z.jsx)("div",{role:"dialog",...n,style:xe,className:i()(t,e,V&&`${e}-static`),onClick:T?ge:void 0,onMouseUp:pe,"aria-labelledby":j,children:(0,Z.jsx)(b,{...q,onMouseDown:ue,className:r,contentClassName:o,children:v})})})})}));F.displayName="Modal",F.defaultProps=L;var $=Object.assign(F,{Body:j,Header:I,Title:A,Footer:T,Dialog:E,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150})},4051:function(e,t,n){"use strict";var r=n(4036),o=n.n(r),i=n(7294),s=n(600),a=n(5893);const l=["xxl","xl","lg","md","sm","xs"],c=i.forwardRef((({bsPrefix:e,className:t,as:n="div",...r},i)=>{const c=(0,s.vE)(e,"row"),d=`${c}-cols`,u=[];return l.forEach((e=>{const t=r[e];let n;delete r[e],null!=t&&"object"===typeof t?({cols:n}=t):n=t;const o="xs"!==e?`-${e}`:"";null!=n&&u.push(`${d}${o}-${n}`)})),(0,a.jsx)(n,{ref:i,...r,className:o()(t,c,...u)})}));c.displayName="Row",t.Z=c}},function(e){e.O(0,[699,972,774,888,179],(function(){return t=6334,e(e.s=t);var t}));var t=e.O();_N_E=t}]);