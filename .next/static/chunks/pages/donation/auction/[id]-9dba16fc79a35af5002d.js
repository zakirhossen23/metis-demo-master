(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[485],{859:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(809),i=n.n(r),s=n(5893),o=n(5311),a=n(9227),c=(n(7294),n(1881)),d=n(7833),l=n(5005),u=n(2358);function p(e){var t=e.show,n=e.onHide,r=e.contract,p=e.senderAddress,m=e.tokenId,h=e.eventId,x=e.type,f=(0,u.Z)({type:"text",placeholder:"Amount"}),g=(0,a.Z)(f,2),y=g[0],v=g[1];function N(){return b.apply(this,arguments)}function b(){return(b=(0,o.Z)(i().mark((function e(){var t,n,s,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.tokenURI(m);case 2:return t=e.sent,e.next=5,JSON.parse(t);case 5:return n=e.sent,Number(n.properties.price.description)<Number(y)&&(n.properties.price.description=y,n.properties.higherbidadd.description=p),s=new Date,o={title:"Asset Metadata Bids",type:"object",properties:{username:{type:"string",description:p},bid:{type:"string",description:y},time:{type:"string",description:s}}},e.next=11,r.createBid(m,JSON.stringify(o),JSON.stringify(n),h);case 11:a=e.sent,console.log(a),window.document.getElementsByClassName("btn-close")[0].click();case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,s.jsxs)(c.Z,{show:t,onHide:n,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,s.jsx)(c.Z.Header,{closeButton:!0,children:"Cryptopunk"==x?(0,s.jsx)(c.Z.Title,{id:"contained-modal-title-vcenter",children:"Bid Cryptopunk"}):(0,s.jsx)(c.Z.Title,{id:"contained-modal-title-vcenter",children:"Bid NFT"})}),(0,s.jsx)(c.Z.Body,{className:"show-grid",children:(0,s.jsxs)(d.Z,{children:[(0,s.jsxs)(d.Z.Group,{className:"mb-3",controlId:"formGroupName",children:[(0,s.jsx)(d.Z.Label,{children:"Bid Amount in ETH"}),v]}),(0,s.jsx)("div",{className:"d-grid",children:"Cryptopunk"==x?(0,s.jsx)(l.Z,{variant:"primary",onClick:N,children:"Bid Cryptopunk"}):(0,s.jsx)(l.Z,{variant:"primary",onClick:N,children:"Bid NFT"})})]})})]})}},6689:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var r=n(809),i=n.n(r),s=n(5893),o=n(5311),a=n(7294),c=n(1163),d=n(9008),l=n(1664),u=n(859),p=n(1926);function m(e){var t=(0,p.Z)("ERC721"),n=t.contract,r=t.signerAddress,m=(0,c.useRouter)(),h=(0,a.useState)(-1),x=h[0],f=h[1],g=(0,a.useState)([]),y=g[0],v=g[1],N=(0,a.useState)(""),b=(N[0],N[1]),j=(0,a.useState)(""),k=(j[0],j[1]),w=(0,a.useState)(""),C=w[0],Z=w[1],E=(0,a.useState)(""),S=E[0],B=E[1],T=(0,a.useState)(""),I=T[0],A=T[1],D=(0,a.useState)(""),F=D[0],M=D[1],R=(0,a.useState)(""),H=R[0],O=R[1],_=(0,a.useState)(""),$=_[0],L=_[1],P=(0,a.useState)(""),U=P[0],G=P[1],J=(0,a.useState)(""),z=J[0],W=J[1],K=(0,a.useState)(""),q=K[0],X=K[1],V=(0,a.useState)(""),Q=(V[0],V[1]),Y=(0,a.useState)(!1),ee=Y[0],te=Y[1],ne=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});function re(e){var t=new Date(e).getTime()-(new Date).getTime(),n=Math.floor(t/864e5),r=Math.floor(t%864e5/36e5),i=Math.floor(t%36e5/6e4),s=Math.floor(t%6e4/1e3);return n.toString()+" Days "+r.toString()+" hours "+i.toString()+" minutes "+s.toString()+" seconds"}function ie(e){var t=new Date(e).getTime()-(new Date).getTime(),n=Math.floor(t/864e5),r=Math.floor(t%864e5/36e5),i=Math.floor(t%36e5/6e4),s=Math.floor(t%6e4/1e3);return n.toString()+"d "+r.toString()+"h "+i.toString()+"m "+s.toString()+"s"}function se(){return oe.apply(this,arguments)}function oe(){return(oe=(0,o.Z)(i().mark((function e(){var t,r,s,o,a,c,d,l,u,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=m.query.id,!n||!t){e.next=59;break}return f(t),e.next=6,n.eventURI(t);case 6:return r=e.sent,s=[],e.next=10,n.gettokenSearchEventTotal(t);case 10:o=e.sent,a=0;case 12:if(!(a<Number(10))){e.next=38;break}return e.next=15,o[a];case 15:return c=e.sent,d={},e.prev=17,e.next=20,JSON.parse(c);case 20:d=e.sent,e.next=25;break;case 23:e.prev=23,e.t0=e.catch(17);case 25:if(!d.title){e.next=35;break}l=0;try{l=ne.format(Number(3817.09*d.properties.price.description))}catch(i){}return e.t1=Number,e.next=31,n.gettokenIdByUri(c);case 31:e.t2=e.sent,u=(0,e.t1)(e.t2),console.log(u),s.push({Id:u,name:d.properties.name.description,description:d.properties.description.description,Bidprice:l,price:Number(d.properties.price.description),type:d.properties.typeimg.description,image:d.properties.image.description});case 35:a++,e.next=12;break;case 38:return v(s),document.getElementById("Loading")&&(document.getElementById("Loading").style="display:none"),Q(r),p=JSON.parse(r),Z(p.properties.Title.description),B(ne.format(Number(3817.09*p.properties.Goal.description))),A(Number(p.properties.Goal.description)),M(re(p.properties.Date.description)),O(p.properties.Date.description),L(ie(p.properties.Date.description)),G(p.properties.logo.description),e.t3=b,e.next=52,n.name();case 52:return e.t4=e.sent,(0,e.t3)(e.t4),e.t5=k,e.next=57,n.symbol();case 57:e.t6=e.sent,(0,e.t5)(e.t6);case 59:e.next=64;break;case 61:e.prev=61,e.t7=e.catch(0),console.error(e.t7);case 64:case"end":return e.stop()}}),e,null,[[0,61],[17,23]])})))).apply(this,arguments)}function ae(e){W(e.target.getAttribute("tokenid")),X("NFT"),te(!0)}function ce(e){W(e.target.getAttribute("tokenid")),X("Cryptopunk"),te(!0)}return(0,a.useEffect)((function(){se()}),[m.query,n]),setInterval((function(){!function(){try{for(var e=document.getElementsByName("dateleft"),t=0;t<e.length;t++){var n=e[t].getAttribute("date");e[t].innerHTML=re(n)}e=document.getElementsByName("date");for(var r=0;r<e.length;r++){n=e[r].getAttribute("date");e[r].innerHTML=ie(n)}}catch(i){}}()}),1e3),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(d.default,{children:[(0,s.jsx)("title",{children:C}),(0,s.jsx)("meta",{name:"description",content:C}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,s.jsx)("div",{className:"row EventContainer",children:(0,s.jsxs)("div",{style:{display:"flex"},children:[(0,s.jsx)("img",{src:U,className:"AuctionImage"}),(0,s.jsxs)("div",{className:"DetialsContainer",children:[(0,s.jsx)("h4",{children:C}),(0,s.jsxs)("div",{className:"TextContainer",children:[(0,s.jsx)("h4",{children:"Goal: "}),(0,s.jsxs)("h4",{children:["$ ",S," (",I," ETH)"]})]}),(0,s.jsx)("div",{className:"TextContainer",children:(0,s.jsx)("h4",{name:"dateleft",date:H,children:F})})]})]})}),(0,s.jsx)("div",{id:"Loading",className:"LoadingArea",children:(0,s.jsx)("h1",{children:"Loading..."})}),y.map((function(e){return(0,s.jsx)("div",{className:"row ElementsContainer bgWhite",children:(0,s.jsxs)("div",{style:{display:"flex"},children:["Cryptopunk"==e.type?(0,s.jsx)("img",{src:e.image,className:"AuctionBidImage pixel"}):(0,s.jsx)("img",{src:e.image,className:"AuctionBidImage"}),(0,s.jsxs)("div",{style:{width:"100%"},children:[(0,s.jsxs)("div",{className:"DetialsContainer",style:{rowGap:"5px"},children:[(0,s.jsx)("h4",{children:e.name}),(0,s.jsxs)("h5",{style:{color:"rgb(139, 139, 139)"},children:["Type: ",e.type]}),(0,s.jsx)("div",{className:"TextContainer",children:(0,s.jsx)("h5",{style:{color:"#8B8B8B"},children:e.description})})]}),(0,s.jsxs)("div",{className:"ElementBottomContainer",children:[(0,s.jsxs)("div",{style:{width:"116px"},children:[(0,s.jsx)("h7",{className:"smallgrey",children:"Current bid"}),(0,s.jsxs)("h4",{className:"bidprice",children:["$ ",e.Bidprice," (",e.price," ETH)"]}),(0,s.jsx)("h7",{name:"date",date:H,className:"smallgrey",children:$})]}),(0,s.jsx)("div",{className:"BidAllcontainer",children:(0,s.jsxs)("div",{className:"Bidsbutton",children:[(0,s.jsx)(l.default,{href:"/donation/bid/".concat(e.Id),children:(0,s.jsx)("div",{tokenid:e.Id,className:"Bidcontainer col",children:(0,s.jsx)("div",{tokenid:e.Id,className:"card BidcontainerCard",children:(0,s.jsx)("div",{tokenid:e.Id,className:"card-body bidbuttonText",children:"View"})})})}),"Cryptopunk"==e.type?(0,s.jsx)("div",{tokenid:e.Id,onClick:ce,className:"Bidcontainer col",children:(0,s.jsx)("div",{tokenid:e.Id,className:"card BidcontainerCard",children:(0,s.jsx)("div",{tokenid:e.Id,className:"card-body bidbuttonText",children:"Bid"})})}):(0,s.jsx)("div",{tokenid:e.Id,onClick:ae,className:"Bidcontainer col",children:(0,s.jsx)("div",{tokenid:e.Id,className:"card BidcontainerCard",children:(0,s.jsx)("div",{tokenid:e.Id,className:"card-body bidbuttonText",children:"Bid"})})})]})})]})]})]})},e.Id)})),(0,s.jsx)(u.Z,{show:ee,onHide:function(){te(!1),se()},contract:n,Amount:r,tokenId:z,senderAddress:r,type:q,eventId:x})]})}},5451:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/donation/auction/[id]",function(){return n(6689)}])},1881:function(e,t,n){"use strict";n.d(t,{Z:function(){return H}});var r,i=n(4036),s=n.n(i),o=n(9351),a=n(3004),c=n(7216),d=n(99);function l(e){if((!r&&0!==r||e)&&a.Z){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),r=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return r}var u=n(2092),p=n(8146),m=n(5654),h=n(5088),x=n(6914),f=n(7294),g=n(8380),y=n(1645),v=n(1068),N=n(4680),b=(0,N.Z)("modal-body"),j=n(6467),k=n(600),w=n(5893);const C=f.forwardRef((({bsPrefix:e,className:t,contentClassName:n,centered:r,size:i,fullscreen:o,children:a,scrollable:c,...d},l)=>{const u=`${e=(0,k.vE)(e,"modal")}-dialog`,p="string"===typeof o?`${e}-fullscreen-${o}`:`${e}-fullscreen`;return(0,w.jsx)("div",{...d,ref:l,className:s()(u,t,i&&`${e}-${i}`,r&&`${u}-centered`,c&&`${u}-scrollable`,o&&p),children:(0,w.jsx)("div",{className:s()(`${e}-content`,n),children:a})})}));C.displayName="ModalDialog";var Z=C,E=(0,N.Z)("modal-footer"),S=n(2655);const B=f.forwardRef((({bsPrefix:e,className:t,...n},r)=>(e=(0,k.vE)(e,"modal-header"),(0,w.jsx)(S.Z,{ref:r,...n,className:s()(t,e)}))));B.displayName="ModalHeader",B.defaultProps={closeLabel:"Close",closeButton:!1};var T=B;const I=(0,n(9602).Z)("h4");var A=(0,N.Z)("modal-title",{Component:I});const D={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:Z};function F(e){return(0,w.jsx)(v.Z,{...e,timeout:null})}function M(e){return(0,w.jsx)(v.Z,{...e,timeout:null})}const R=f.forwardRef((({bsPrefix:e,className:t,style:n,dialogClassName:r,contentClassName:i,children:v,dialogAs:N,"aria-labelledby":b,show:C,animation:Z,backdrop:E,keyboard:S,onEscapeKeyDown:B,onShow:T,onHide:I,container:A,autoFocus:D,enforceFocus:R,restoreFocus:H,restoreFocusOptions:O,onEntered:_,onExit:$,onExiting:L,onEnter:P,onEntering:U,onExited:G,backdropClassName:J,manager:z,...W},K)=>{const[q,X]=(0,f.useState)({}),[V,Q]=(0,f.useState)(!1),Y=(0,f.useRef)(!1),ee=(0,f.useRef)(!1),te=(0,f.useRef)(null),[ne,re]=(0,u.Z)(),ie=(0,m.Z)(K,re),se=(0,p.Z)(I),oe=(0,k.SC)();e=(0,k.vE)(e,"modal");const ae=(0,f.useMemo)((()=>({onHide:se})),[se]);function ce(){return z||(0,y.t)({isRTL:oe})}function de(e){if(!a.Z)return;const t=ce().getScrollbarWidth()>0,n=e.scrollHeight>(0,c.Z)(e).documentElement.clientHeight;X({paddingRight:t&&!n?l():void 0,paddingLeft:!t&&n?l():void 0})}const le=(0,p.Z)((()=>{ne&&de(ne.dialog)}));(0,h.Z)((()=>{(0,d.Z)(window,"resize",le),null==te.current||te.current()}));const ue=()=>{Y.current=!0},pe=e=>{Y.current&&ne&&e.target===ne.dialog&&(ee.current=!0),Y.current=!1},me=()=>{Q(!0),te.current=(0,x.Z)(ne.dialog,(()=>{Q(!1)}))},he=e=>{"static"!==E?ee.current||e.target!==e.currentTarget?ee.current=!1:null==I||I():(e=>{e.target===e.currentTarget&&me()})(e)},xe=(0,f.useCallback)((t=>(0,w.jsx)("div",{...t,className:s()(`${e}-backdrop`,J,!Z&&"show")})),[Z,J,e]),fe={...n,...q};Z||(fe.display="block");return(0,w.jsx)(j.Z.Provider,{value:ae,children:(0,w.jsx)(g.Z,{show:C,ref:ie,backdrop:E,container:A,keyboard:!0,autoFocus:D,enforceFocus:R,restoreFocus:H,restoreFocusOptions:O,onEscapeKeyDown:e=>{S||"static"!==E?S&&B&&B(e):(e.preventDefault(),me())},onShow:T,onHide:I,onEnter:(e,t)=>{e&&(e.style.display="block",de(e)),null==P||P(e,t)},onEntering:(e,t)=>{null==U||U(e,t),(0,o.ZP)(window,"resize",le)},onEntered:_,onExit:e=>{null==te.current||te.current(),null==$||$(e)},onExiting:L,onExited:e=>{e&&(e.style.display=""),null==G||G(e),(0,d.Z)(window,"resize",le)},manager:ce(),transition:Z?F:void 0,backdropTransition:Z?M:void 0,renderBackdrop:xe,renderDialog:n=>(0,w.jsx)("div",{role:"dialog",...n,style:fe,className:s()(t,e,V&&`${e}-static`),onClick:E?he:void 0,onMouseUp:pe,"aria-labelledby":b,children:(0,w.jsx)(N,{...W,onMouseDown:ue,className:r,contentClassName:i,children:v})})})})}));R.displayName="Modal",R.defaultProps=D;var H=Object.assign(R,{Body:b,Header:T,Title:A,Footer:E,Dialog:Z,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150})}},function(e){e.O(0,[699,972,774,888,179],(function(){return t=5451,e(e.s=t);var t}));var t=e.O();_N_E=t}]);